
@defer (when isLoaded()) {
<cdk-virtual-scroll-viewport (scrolledIndexChange)="onScroll()" itemSize="1000" class="example-viewport">

  <table mat-table [dataSource]="characters$()" class="mat-elevation-z8 demo-table">
    
    @for (column of columns; track column) {
      <ng-container [matColumnDef]="column.columnDef">
          <th mat-header-cell *matHeaderCellDef>
            {{column.header}}
          </th>
          <td mat-cell *matCellDef="let row">
            {{column.cell(row)}}
          </td>
      </ng-container>
    }

    <tr mat-header-row *matHeaderRowDef="displayedColumns;sticky: true"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    
  </table>  
</cdk-virtual-scroll-viewport>
}
@placeholder {
<div>Large component placeholder</div>
}


<!-- <div *cdkVirtualFor="let item of characters$()" class="example-item">
    <div style="padding-bottom: 1rem;">{{item.id}} {{item.name}}</div>
    <hr />
  </div> -->