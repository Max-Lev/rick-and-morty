<mat-card class="example-card" appearance="outlined">
    <mat-card-header>
        <div 
        [style.border-color]="character().character['status'] | color"
        mat-card-avatar [ngStyle]="{'background-image': 'url(' + character().character.image + ')'}"
            class="example-header-image"></div>

        <mat-card-title>
            <div class="id">({{character().character.id}})</div>
            <span class="title-text">{{character().character.name}}</span>
        </mat-card-title>

        <mat-card-subtitle>
            <span>Status: </span>
            <span [style.color]="character().character.status | color:'status'">{{ character().character.status
                }}</span>
        </mat-card-subtitle>
        <mat-card-subtitle>
            <span>Species: </span>
            <span [style.color]="character().character.species | color:'species'">{{ character().character.species
                }}</span>
        </mat-card-subtitle>
        <mat-card-subtitle>
            <span>Type: </span>
            <span [style.color]="character().character.type | color:'type'">{{ character().character.type |
                isEmpty:character().character.type }}</span>
        </mat-card-subtitle>
        <mat-card-subtitle>
            <span>Gender: </span>
            <span [style.color]="character().character.gender | color:character().character.gender">{{
                character().character.gender }}</span>
        </mat-card-subtitle>

    </mat-card-header>

    <img class="card-img" [src]="character().character.image" [alt]="character().character.name">
    <!-- <img mat-card-xl-image style="align-self: center;" [src]="character().character.image" [alt]="character().character.name"> -->

    <mat-card-content>

        <mat-accordion multi="false">
            <mat-expansion-panel >
            <!-- <mat-expansion-panel multi="true" (opened)="panelOpenState.set(true)" (closed)="panelOpenState.set(false)"> -->
                <mat-expansion-panel-header>
                    <mat-panel-title> Location </mat-panel-title>
                </mat-expansion-panel-header>

                <table mat-table [dataSource]="[character().location]" class="inner-table sub-table">
                    <ng-container matColumnDef="id">
                        <th mat-header-cell *matHeaderCellDef> ID. </th>
                        <td mat-cell *matCellDef="let loc"> {{loc.id}} </td>
                    </ng-container>
                    <ng-container matColumnDef="name">
                        <th mat-header-cell *matHeaderCellDef> Name </th>
                        <td mat-cell *matCellDef="let loc"> {{loc.name}} </td>
                    </ng-container>

                    <ng-container matColumnDef="dimension">
                        <th mat-header-cell *matHeaderCellDef> Dimension </th>
                        <td mat-cell *matCellDef="let loc"> {{loc.dimension}} </td>
                    </ng-container>

                    <tr mat-header-row *matHeaderRowDef="locationColumns"></tr>
                    <tr mat-row *matRowDef="let row; columns: locationColumns;"></tr>
                </table>
            </mat-expansion-panel>

            <mat-expansion-panel>
            <!-- <mat-expansion-panel multi="true" (opened)="panelOpenState.set(true)" (closed)="panelOpenState.set(false)"> -->
                <mat-expansion-panel-header>
                    <mat-panel-title> Origin </mat-panel-title>
                </mat-expansion-panel-header>

                <table mat-table [dataSource]="[character().origin]" class="inner-table sub-table">
                    <ng-container matColumnDef="id">
                      <th mat-header-cell *matHeaderCellDef> ID. </th>
                      <td mat-cell *matCellDef="let origin"> {{origin.id}} </td>
                    </ng-container>
                    <ng-container matColumnDef="name">
                      <th mat-header-cell *matHeaderCellDef> Name </th>
                      <td mat-cell *matCellDef="let origin"> {{origin.name}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="dimension">
                      <th mat-header-cell *matHeaderCellDef> Dimension </th>
                      <td mat-cell *matCellDef="let origin"> {{origin.dimension}} </td>
                    </ng-container>
        
                    <tr mat-header-row *matHeaderRowDef="originColumns"></tr>
                    <tr mat-row *matRowDef="let row; columns: originColumns;"></tr>
                  </table>
            </mat-expansion-panel>

            <mat-expansion-panel (opened)="panelOpenState.set(true)" (closed)="panelOpenState.set(false)">
                <mat-expansion-panel-header>
                    <mat-panel-title> Episods </mat-panel-title>
                </mat-expansion-panel-header>

                <table mat-table [dataSource]="character().episodes" class="inner-table sub-table">
                    <ng-container matColumnDef="episode">
                      <th mat-header-cell *matHeaderCellDef> Episode </th>
                      <td mat-cell *matCellDef="let ep"> {{ep.episode}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="name">
                      <th mat-header-cell *matHeaderCellDef> Name </th>
                      <td mat-cell *matCellDef="let ep"> {{ep.name}} </td>
                    </ng-container>
        
                    <tr mat-header-row *matHeaderRowDef="episodeColumns"></tr>
                    <tr mat-row *matRowDef="let row; columns: episodeColumns;"></tr>
                  </table>
            </mat-expansion-panel>

        </mat-accordion>


    </mat-card-content>

    <mat-card-actions>
        <!-- <button mat-button>LIKE</button>
        <button mat-button>SHARE</button> -->
    </mat-card-actions>
</mat-card>